---
phase: 07-polish-fixes
plan: 06
type: execute
wave: 3
depends_on: ["07-01", "07-02", "07-03", "07-04", "07-05"]
files_modified: []
autonomous: false
requirements: []

must_haves:
  truths:
    - "RLS enabled and app functions normally"
    - "New highlights render at correct position (offset bug fixed)"
    - "Audience content captured in parser output"
    - "Dark mode toggles correctly across all pages"
    - "Multi-paragraph highlights render as connected blocks"
  artifacts: []
  key_links: []
---

<objective>
Human verification of all five Phase 7 fixes: RLS security, highlight offset bug, audience transcript recovery, dark mode, and multi-paragraph highlights. Confirms production readiness.

Purpose: End-to-end verification that all polish items work correctly
Output: Verified production-ready state
</objective>

<execution_context>
@/Users/bharadwajkulkarni/.claude/get-shit-done/workflows/execute-plan.md
@/Users/bharadwajkulkarni/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-polish-fixes/07-01-SUMMARY.md
@.planning/phases/07-polish-fixes/07-02-SUMMARY.md
@.planning/phases/07-polish-fixes/07-03-SUMMARY.md
@.planning/phases/07-polish-fixes/07-04-SUMMARY.md
@.planning/phases/07-polish-fixes/07-05-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 1: End-to-end verification of all Phase 7 fixes</name>
  <files>supabase/migrations/007_enable_rls.sql</files>
  <action>Human verification checkpoint — test all five Phase 7 items end-to-end for production readiness.</action>
  <verify>
**1. RLS Security**
- Apply `supabase/migrations/007_enable_rls.sql` via Supabase dashboard SQL editor (if not already done)
- Verify app still functions: browse transcripts, open a transcript, view modules
- Check Supabase dashboard > Auth > Policies — all 4 tables should show RLS enabled

**2. Highlight Offset Bug**
- Open a transcript with timestamps (e.g., one that previously had offset issues)
- Select a word or phrase and create a new highlight
- Verify the highlight renders EXACTLY over the selected text (not shifted forward)
- Test both paragraphs with and without timestamps

**3. Audience Transcript Recovery**
- Check `corpus/global-perspectives-and-psychedelic-poetics.json` — should contain audience paragraphs
- Review spot-check findings from Plan 02 summary
- If re-seeding was approved and done: verify audience paragraphs visible in the reader
- If re-seeding was deferred: confirm parser changes are committed for future use

**4. Dark Mode**
- Toggle dark mode via sun/moon button (top-right corner)
- Navigate through ALL pages: /, /transcripts, /transcripts/[id], /modules, /modules/new, /analysis/modules/[id]
- Verify: dark backgrounds, light text, readable highlights, smooth transitions
- Test persistence: refresh page — should stay in dark mode

**5. Multi-Paragraph Highlights**
- Open a transcript, select text spanning 3-4 paragraphs — highlight should render across all
- Click highlight in middle paragraph — popover should anchor to FIRST paragraph
- Try selecting 20+ paragraphs — should show "too large" warning
  </verify>
  <done>User confirms all five fixes work correctly and app is production-ready</done>
</task>

</tasks>

<verification>
- [ ] All five items verified by human testing
- [ ] No regressions in existing functionality
- [ ] Dark mode works across all pages
- [ ] Multi-paragraph highlights render correctly
- [ ] Offset bug confirmed fixed with new annotations
</verification>

<success_criteria>
- Human confirms all five polish items are working correctly
- No blocking issues remain
- App is production-ready with these fixes applied
</success_criteria>

<output>
After completion, create `.planning/phases/07-polish-fixes/07-06-SUMMARY.md`
</output>
