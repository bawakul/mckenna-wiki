---
phase: 05-analysis-views
plan: 04
type: execute
wave: 4
depends_on: ["05-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Module tracing view displays all passages tagged with a specific module"
    - "Passages sorted chronologically by lecture date"
    - "Text search filters passages responsively"
    - "Navigation between modules and traces works"
---

<objective>
Human verification of the complete module tracing feature.

Purpose: Confirm the full analysis workflow functions correctly before marking Phase 5 complete. This ensures the core value proposition (seeing how a theme appears across the corpus) is delivered.

Output: Verified working feature or list of issues to address.
</objective>

<execution_context>
@/Users/bharadwajkulkarni/.claude/get-shit-done/workflows/execute-plan.md
@/Users/bharadwajkulkarni/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/05-analysis-views/05-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Module tracing feature - the ability to view all passages tagged with a specific module across all lectures, sorted chronologically by lecture date.

Components built:
- Database view `module_traces` joining annotations, transcripts, and modules
- `/analysis/modules/[id]` page with SSR data fetch
- TraceList component with useTransition-based text search
- TraceCard component showing highlighted passage with module color
- ModuleSwitcher dropdown for navigating between modules
- Updated ModuleCard with passage counts and "View traces" links
  </what-built>
  <how-to-verify>
Prerequisites: Have at least one module with tagged passages in the database.

1. **Entry from Modules page:**
   - Go to `/modules`
   - Verify each module card shows "View traces (N)" where N is passage count
   - Click "View traces" on a module with passages
   - Verify you reach `/analysis/modules/[id]`

2. **Trace view content:**
   - Header shows module name and passage count
   - Passages appear as cards in chronological order (oldest first)
   - Each card shows: lecture title, date, highlighted text with module color
   - "View in lecture" link present on each card

3. **Text search:**
   - Type in search box
   - Input should remain responsive (no lag/freeze)
   - Results filter as you type
   - "Filtering..." indicator appears briefly on slow connections
   - Empty results message shows when no matches

4. **Module switching:**
   - Click "Switch module" dropdown in header
   - All modules should appear in list
   - Selecting a different module navigates to its trace page
   - URL updates to `/analysis/modules/[new-id]`

5. **Navigation links:**
   - "← Back to modules" returns to /modules
   - "View in lecture →" on any card goes to transcript reader

6. **Edge cases:**
   - Navigate to module with no passages - empty state shown
   - Navigate to invalid module ID - 404 page

7. **Performance check:**
   - If you have 50+ passages, page should load quickly (<1s)
   - Search should not block typing even with many results
  </how-to-verify>
  <resume-signal>
Type "approved" if all checks pass.
If issues found, describe each issue and I will create fixes.
  </resume-signal>
</task>

</tasks>

<verification>
All verification happens in the checkpoint task above.
</verification>

<success_criteria>
- Human confirms module tracing workflow functions correctly
- No blocking issues identified
- Performance acceptable
</success_criteria>

<output>
After completion, create `.planning/phases/05-analysis-views/05-04-SUMMARY.md`
</output>
